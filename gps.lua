shop = {
    {x = 374.325,   y = 325.6,      z = 102.416},
    {x = -3039.453, y = 586.123,    z = 6.808},
    {x = -3241.567, y = 1001.67,    z = 11.800},
    {x = 547.431,   y = 2671.710,   z = 41.096},
    {x = 1961.464,  y = 3740.672,   z = 31.303},
    {x = 26.234,    y = -1347.434,  z = 28.397},
    {x = 2557.458,  y = 382.282,  z = 107.622},
    {x = 1163.373,  y = -323.801,   z = 68.105},
    {x = -707.905,  y = -914.649,   z = 18.315},
    {x = -1820.655, y = 792.367,    z = 137.178},
    {x = 1698.388,  y = 4924.404,   z = 41.063},
    {x = -48.519,   y = -1757.514,  z = 28.521},
    {x = 2557.458,  y = 382.282,    z = 107.622}, 
    {x = 2678.916,  y = 3280.671,   z = 54.341},
    {x = 1729.216,  y = 6414.131,   z = 34.137},
}

booze = {
    {x = 1136.004,  y = -982.19,    z = 45.315},
    {x = -1223.076, y = -906.818,   z = 11.226},
    {x = -1487.727, y = -380.441,   z = 39.003},
    {x = -2968.356, y = 390.319,    z = 14.003},
    {x = 1166.581,  y = 2707.985,   z = 37.097},
    {x = 1392.272,  y = 3603.641,   z = 33.880}, 
}

gas = {
  { x=49.4187,   y=2778.793,  z=58.043},
  { x=263.894,   y=2606.463,  z=44.983},
  { x=1039.958,  y=2671.134,  z=39.550},
  { x=1207.260,  y=2660.175,  z=37.899},
  { x=2539.685,  y=2594.192,  z=37.944},
  { x=2679.858,  y=3263.946,  z=55.240},
  { x=2005.055,  y=3773.887,  z=32.403},
  { x=1687.156,  y=4929.392,  z=42.078},
  { x=1701.314,  y=6416.028,  z=32.763},
  { x=179.857,   y=6602.839,  z=31.868},
  { x=-94.4619,  y=6419.594,  z=31.489},
  { x=-2554.996, y=2334.40,   z=33.078},
  { x=-1800.375, y=803.661,   z=138.651},
  { x=-1437.622, y=-276.747,  z=46.207},
  { x=-2096.243, y=-320.286,  z=13.168},
  { x=-724.619,  y=-935.1631, z=19.213},
  { x=-526.019,  y=-1211.003, z=18.184},
  { x=-70.2148,  y=-1761.792, z=29.534},
  { x=265.648,   y=-1261.309, z=29.292},
  { x=819.653,   y=-1028.846, z=26.403},
  { x=1208.951,  y= -1402.567,z=35.224},
  { x=1181.381,  y= -330.847, z=69.316},
  { x=620.843,   y= 269.100,  z=103.089},
  { x=2581.321,  y=362.039,   z=108.468}
}

bank = {
  {x=150.266, y=-1040.203, z=29.374},
  {x=-1212.980, y=-330.841, z=37.787},
  {x=-2962.582, y=482.627, z=15.703},
  {x=-112.202, y=6469.295, z=31.626},
  {x=314.187, y=-278.621, z=54.170},
  {x=-351.534, y=-49.529, z=49.042},
  {x=241.727, y=220.706, z=106.286},
  {x=1175.0643310547, y=2706.6435546875, z=38.094036102295}
}

barbershop = {
  {x = -814.308,  y = -183.823,  z = 36.668},
  {x = 136.826,   y = -1708.373, z = 28.391},
  {x = -1282.604, y = -1116.757, z = 6.090},
  {x = 1930.512,  y = 3728.669,  z = 31.944},
  {x = 1212.414,  y = -472.909,  z = 65.408},
  {x = -32.885,   y = -152.319,  z = 56.176},
  {x = -278.077,  y = 6228.463,  z = 30.795}
}

tuning = {
  { x = -337.3863, y = -136.9247, z = 38.5737},
  { x = -1155.536, y = -2007.183, z = 12.744},
  { x = 731.8163, y = -1088.822, z = 21.733},
  { x = 1175.04, y = 2640.216, z = 37.32177},
  { x = 110.99, y = 6626.39, z = 30.89}
}

weaponshop = {
  {x = -662.180053710938,   y =-934.961120605469,  z = 20.8292293548584},
  {x = 810.25,              y =-2157.60,           z = 28.62},
  {x = 1694.079,             y =3758.384,            z = 33.71},
  {x = -328.91,             y =6081.953,            z = 30.45},
  {x = 252.63,              y =-48.00,             z = 68.94},
  {x = 19.635,               y =-1106.876,           z = 28.80},   
  {x = 2567.69,             y =294.38,             z = 107.73},
  {x = -1117.58,            y =2698.61,            z = 17.55},
  {x = 842.44,              y =-1033.42,           z = 27.19} 
}

clothshop = {
  {x=76.361,    y=-1395.242, z=28.386},
  {x=-703.901,  y=-151.469,  z=36.425},
  {x=-167.863,  y=-298.969,  z=38.743},
  {x=424.557,   y=-803.861,  z=28.501},
  {x=-824.07,  y=-1075.443, z=10.338},
  {x=-1447.079, y= -242.846,  z=48.830},
  {x=5.922,    y=6514.686,  z=30.887},
  {x=123.646,   y=-219.440,  z=53.567},
  {x=1692.847,  y=4825.502,  z=41.073},
  {x=618.093,   y=2759.629,  z=41.098},
  {x=1193.905,  y=2709.545,  z=37.232},
  {x=-1193.429, y=-772.262,  z=16.334},
  {x=-3172.496, y=1048.133,  z=19.873},
  {x=-1102.905, y=2709.545,  z=18.117}
}

tattoo = {
  {x=1322.645,y=-1651.976,z=52.275},
  {x=-1153.676,y=-1425.68,z=4.954},
  {x=322.139,y=180.467,z=103.587},
  {x=-3170.071,y=1075.059,z=20.829},
  {x=1864.125,y=3748.108,z=33.032},
  {x=-294.162,y=6200.258,z=31.487}
}

RegisterNetEvent("interface:blipSearch")
AddEventHandler("interface:blipSearch",function(arg)
local gpsToFind = arg
closest = nil
closestshop = nil
  for _, shop in pairs(gpsToFind) do
      cords = GetEntityCoords(GetPlayerPed(-1))
      distance = GetDistanceBetweenCoords(cords.x, cords.y, cords.z, shop.x, shop.y, shop.z, false)
      if closest == nil then
          closest = distance
          closestshop = shop
      else
          if distance < closest then
              closest = distance
              closestshop = shop
          end
      end
  end
  SetNewWaypoint(closestshop.x, closestshop.y)
end)


RegisterCommand("gps",function(source, args)

  if IsWaypointActive() then
    ClearGpsPlayerWaypoint()
  end

  local player = PlayerPedId()
  local argh = nil
  if tostring(args[1]) == nil then
    return
  else
    if tostring(args[1]) ~= nil then
      local arg = tostring(args[1])
      if arg == 'shop' then
        argh = shop
      elseif arg == 'gas' then
        argh = gas
      elseif arg == 'booze' then
        argh = booze
      elseif arg == 'weaponshop' then
        argh = weaponshop
      elseif arg == 'clothshop' then
        argh = clothshop
      elseif arg == 'barbershop' then
        argh = barbershop
      elseif arg == 'bank' then
        argh = bank
      elseif arg == 'tuning' then
        argh = tuning
      elseif arg == 'tattoo' then
        argh = tattoo
      end

      if argh ~= nil and argh == shop or argh == gas or argh == booze or argh == weaponshop or argh == clothshop or argh == barbershop or argh == bank or argh == tuning or argh == tattoo then
        TriggerEvent("interface:blipSearch", argh)
      end
    end
  end
end,false)
